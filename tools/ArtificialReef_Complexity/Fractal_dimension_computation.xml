<tool id="fractal" name="Fractal" version="0.1.0+galaxy0">
	<description>Computation of fractal dimension </description>
    <requirements>
		<requirement type="package" version="4.3">r-base</requirement>
		<requirement type="package" version="1.1.2">r-rdimtools</requirement>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
	#for $input in $point_clouds
        ln -s '$input' '${input.element_identifier}.txt';
    #end for
    Rscript '$__tool_directory__/Fractal_dimension_computation.R'
]]></command>
    <inputs>
		<param name="point_clouds" type="data" format="txt" label="Upload point clouds files" multiple="true"/>
    </inputs>
    <outputs>
		<data name="new_fractal_dimension" from_work_dir="fractal_dimension.csv" format="csv" label="Fractal Dimension"/>
    </outputs>
	<tests>
         <test expect_num_outputs="1"> 
            <param name="point_clouds">
                <collection type="list">
					<element name="coral" value="CORAL.txt" />
                </collection>
            </param>
			<output name="new_fractal_dimension" file="new_fractal_dimension.csv" ftype="csv" />
        </test>
    </tests>
<help><![CDATA[

todo

]]></help>
</tool>
