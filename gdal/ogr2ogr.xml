<tool id="ogr2ogr" name="OGR2ogr" version="@VERSIONOGR@">
    <description>converts simple features data between file formats</description>
    <macros>
        <import>gdal_macros.xml</import>
    </macros> 
    <requirements>
        <requirement type="package" version="2.4.0">gdal</requirement>
        <requirement type="package" version="3.7.1">geos</requirement>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
        ogr2ogr -f $f '$output' '$input'

    ]]></command>
    
    <inputs>
        <param type="data" name="input" format="data" label="Gdal supported input file" help="http://www.gdal.org/ogr_formats.html"/>
        <param type="select" name="f" label="Conversion format" value="" help="Select the format to convert your input file. Currently supported : Shapefile, GeoJSON, GML, KML and WFS.">
            <option value="ESRI Shapefile ">ESRI Shapefile </option>
            <option value="GeoJSON">GEOJSON</option>
            <option value="GML">GML</option>
            <option value="KML">KML</option>
            <option value="WFS">WFS</option>
        </param>
    </inputs>
    
    <outputs>
        <data name="output" auto_format="true" label="${on_string}.${f}"/> 
    </outputs>
    
    <tests>
        <test> <!-- ogr2ogr -f KML custom.geo.kml custom.geo.json -->
            <param name="input" value="custom.geo.json"/>
            <param name="f" value="KML"/>
            <output name="output">
                <assert_contents>
                    <has_text text="20.5902474301049,41.8554041611336 20.4631750830992,41.5150890162753 20.6051819190374,41.0862263046852 21.0200403174764,40.8427269557259 20.9999898617472,40.580003973954 20.6749967790636,40.434999904943 20.6150004411728,40.1100068222594 20.1500159034105,39.624997666984 19.9800004411701,39.6949933945234 19.9600016618732,39.915005805006 19.4060819841367,40.2507734238225 19.3190588721571,40.7272301295536 19.4035498389543,41.4095657415355 19.5400272966371,41.7199860703128 19.371768833095,41.8775475123707 19.3044861182508,42.1957451442078 19.7380513851796,42.6882473821656 19.8016133968987,42.5000934921908 20.0707,42.58863 20.2837545101819,42.3202595078151 20.52295,42.21787 20.5902474301049,41.8554041611336"/>                           
                </assert_contents>
            </output>
        </test>
    </tests>

    <help><![CDATA[
========
Ogrinfo
========

**What it does**

The Ogrinfo program lists various information about an OGR supported vector dataset.

|

**How to use it**

Select from history a suported vector file. 

|

**Other options, advanced usage**

*-sql statement*

    Execute the indicated SQL statement and return the result. Your input is renamed Shapefile. 

|

*-so*

    Summary Only: suppress listing of features, show only the summary information like projection, schema, feature count and extents.

|

**Sources**

http://www.gdal.org

http://www.gdal.org/ogr_utilities.html

http://download.osgeo.org/gdal/workshop/foss4ge2015/workshop_gdal.pdf
    ]]></help>
</tool>
